<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="styles.css">
        <script src="data.js"></script>
        <script src="client.js"></script>
        <script src="main.js"></script>
        <title>WotLK Class Scaling</title>
    </head>
    <body>
        <div id="compareContainer" hidden>
            <table id="compareTable" class="compare-table">
                <thead><tr><th>Class</th><th>Spec</th><th>% Gain</th><th>P0</th><th>P1</th><th>P2</th><th>P2+</th></th></thead>
                <tbody></tbody>
            </table>
            <div id="compareConfig">
                <div class="input-item">
                <label for="encounterDuration">Duration (seconds):</label>
                <input type="number" name="encounterDuration" id="encounterDuration" value=150>
                </div>
                <div class="input-item">
                <label for="simIterations">Iterations:</label>
                <input type="number" name="simIterations" id="simIterations" value=300>
                </div>
                <div class="input-item">
                <label for="workerCount">Workers:</label>
                <input type="number" name="workerCount" id="workerCount" value=3>
                </div>
                <div class="input-item">
                <div id="startButton" class="button">Run</div>
                </div>
            </div>
            <canvas id="compareGraph" width="900" height="600" hidden></canvas>
        </div>
        <div class="faqContainer">
            <h2>FAQ</h2>
            <h3>Q: How does this work?</h3>
            <p>Gearsets from each phase (columns P0 - P2+) are used to run DPS simulations with the <a href="https://wowsims.github.io/wotlk/">Wowsims</a> backend.</p>
            <h3>Q: What configuration is used for each class?</h3>
            <p>For class/spec specific configuration (e.g. rotation), defaults are used. The gear sets for each phase are intended to be BIS'ish but, especially for phase 2, they are just what I could cobble together from a quick search.</p>
            <p>For global configuration (e.g. buffs and debuffs), everything is assumed to be present.</p>
            <p>You can run an individual sim with the same settings by copying the configuration JSON from the table below and importing it on the Wowsims site.</p>
            <h3>Q: What is P2+?</h3>
            <p>This is a P2 gear set that has been scaled up to account for the anticipated iLvl increase on Ulduar gear. The gear is scaled by determining the total stats provided by gear and increasing it by 12%. The scaling value is an approximation based on the increased stat budget associated with higher item level.</p>
            <h3>Q: How can I make this more accurate?</h3>
            <p>If you happen to know about a specific class/spec, check out the individual settings using the technique described above. If you have an improved geartset/rotation export a Wowsims link and dm on Discord: Bran#5964.</p>
            <h3>Q: What are workers?</h3>
            <p>The number of workers determine the number of simulations running at one time. 1-3 should work on almost any desktop computer; more than that will speed up the result but could also crash your browser.</p>
        </div>
        <div>
            <h2>Sim Settings</h2>
            <table id="settingsTable" class="compare-table">
                <thead><tr><th>Class</th><th>Spec</th><th>P0</th><th>P1</th><th>P2</th><th>P2+</th></tr></thead>
                <tbody></tbody>
            </table>
        </div>
        <div>
            <h2>Change Log</h2>
            <table id="changesTable" class="change-table">
                <thead><tr><th>Date</th><th>Description</th><th>Commit</th></tr></thead>
                <tbody>
                    <tr><td>2022-11-14</td><td>Updated Fury Warrior simulation configurations</td><td><a href="https://github.com/b-r-a-n/wotlkscaling/commit/1ba10e389a87fa5c7fd705ec962d667669616271">1ba10e3</a></td></tr>
                </tbody>
            </table>
        </div>
        <script>
            main()
        </script>
    </body>
</html>